<!DOCTYPE html>
<html>
    <head>
        <title>rps</title>
        <script async>
            function computerPlay()
            {
               let cMove = Math.floor(Math.random() * 3);
               switch(cMove)
                {
                    case 0: console.log("Computer Input: Rock");break;
                    case 1: console.log("Computer Input: Paper");break;
                    case 2: console.log("Computer Input: Scissors");break;
                }
                return(cMove);
            }
            function takeInput()
            {
                let userCh = prompt("Enter your choice", "Rock/Paper/Scissors");
                if(userCh)
                    userCh = userCh.toLowerCase();
                else
                    throw "User Canceled";
                switch(userCh)
                {
                    case "rock": console.log("Your Input: " + userCh);
                                return "0";
                    case "paper": console.log("Your Input: " + userCh);
                                return "1";
                    case "scissors":console.log("Your Input: " + userCh);
                                return "2";
                    default: return(takeInput());
                }
            }
            function round(playerSelection, computerSelection)
            {   
                let selWinner = [
                                 ["Draw! Rock and Rock", "You Win! Paper beats Rock", "You Lose! Rock beats Scissors"],
                                 ["You Lose! Paper beats Rock", "Draw! Paper and Paper", "You Win! Scissors beats Paper"],
                                 ["You Win! Rock beats Scissors", "You Lose! Scissors beats Paper", "Draw! Scissors and Scissors"]
                                ]
                console.log(selWinner[computerSelection][playerSelection]);
                if(selWinner[computerSelection][playerSelection].search("Win") != -1)
                    return(1);
                else if(selWinner[computerSelection][playerSelection].search("Lose") != -1)
                    return(-1);
                return(0);
            }
            function game()
            {   
                let computerPoints = 0, playerPoints = 0, retPoints;
                for(let i = 1; i <= 5; i++){
                    playerSelection = takeInput();
                    computerSelection = computerPlay();
                    retPoints = round(playerSelection, computerSelection);
                    switch(retPoints)
                    {
                        case 1: playerPoints++;break;
                        case -1: computerPoints++;break;
                        default: ;
                    }
                }
                let winner = "Computer Points: "+computerPoints+"\nPlayer Points: "+playerPoints+"\n"+((playerPoints>computerPoints)?"Player":"Computer")+" Wins!";
                console.log(winner)
            }
            setTimeout(game, 2500);
        </script>
    </head>
    <body>
        <h1>Rock, Paper, Scissors</h1>
        <p>How to play :</p>
        <ul>
            <li>Open console, Press F12</li>
            <li>Just enter your choice Rock/Paper/Scissors in the prompt</li>
            <li>Reload page to play again</li>
        </ul>
    </body>
</html>